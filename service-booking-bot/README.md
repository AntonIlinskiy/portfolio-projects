üóì Service Booking Bot ‚Äî –∑–∞–ø–∏—Å—å –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ Telegram

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è –∑–∞–ø–∏—Å–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ —É—Å–ª—É–≥–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–µ—Ö–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∞–≤—Ç–æ).
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —É—Å–ª—É–≥—É ‚Üí –¥–∞—Ç—É ‚Üí –≤—Ä–µ–º—è ‚Üí –≤–≤–æ–¥–∏—Ç –º–∞—Ä–∫—É/–º–æ–¥–µ–ª—å ‚Üí –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ SQLite.
–í –±–æ—Ç–µ —Ç–∞–∫–∂–µ –µ—Å—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∑–∞–ø–∏—Å–µ–π –∏ –æ—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏.

‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–í—ã–±–æ—Ä —É—Å–ª—É–≥–∏ –∏–∑ —Å–ø–∏—Å–∫–∞ (–ø—Ä–∏–º–µ—Ä: ¬´–¢–û¬ª, ¬´–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞¬ª, ¬´–ó–∞–º–µ–Ω–∞ –º–∞—Å–ª–∞¬ª)

–ö–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–µ –¥–Ω–∏ –∏ —Å–≤–æ–±–æ–¥–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã

–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –±—Ä–æ–Ω–∏ c –∑–∞–ø–∏—Å—å—é –≤ –ë–î (SQLite)

–ü—Ä–æ—Å–º–æ—Ç—Ä ¬´–ú–æ–∏ –∑–∞–ø–∏—Å–∏¬ª –∏ –æ—Ç–º–µ–Ω–∞

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª—é–±–æ–π –º–∞—Ä–∫–∏ –∏ –º–æ–¥–µ–ª–∏ (–≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–æ–º)

–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è –ë–î –≤ bot/data/booking.db

üß∞ –°—Ç–µ–∫

Python 3.11+

aiogram 3.x

SQLite (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è sqlite3)

python-dotenv (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)

üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç:

git clone https://github.com/AntonIlinskiy/portfolio-projects.git
cd portfolio-projects/service-booking-bot

–°–æ–∑–¥–∞—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –ø–æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

python -m venv .venv

# Windows PowerShell:

.\.venv\Scripts\Activate.ps1

# macOS/Linux:

source .venv/bin/activate

pip install -r requirements.txt

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env (—Å–æ–∑–¥–∞–π —Ñ–∞–π–ª service-booking-bot/.env):

BOT*TOKEN=–≤–∞—à*—Ç–æ–∫–µ–Ω*–±–æ—Ç–∞*–∏–∑_BotFather

# –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ ‚Äî —Ç–∞–π–º–∑–æ–Ω–∞, —á–∞—Å –Ω–∞—á–∞–ª–∞/–æ–∫–æ–Ω—á–∞–Ω–∏—è –ø—Ä–∏ –∞–≤—Ç–æ—Å–∏–¥–∞—Ö –∏ —Ç.–ø. (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)

–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –∏ –∑–∞—Å–µ—è—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–µ —Å–ª–æ—Ç—ã (–∫–æ–º–∞–Ω–¥–∞ –Ω–∞ Windows/PowerShell):

python -c "from services.repo import init_db, seed_default_week; init_db(reset=True); seed_default_week(); print('DB recreated & seeded.')"

–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç bot/data/booking.db, —Ç–∞–±–ª–∏—Ü—ã slots –∏ bookings, –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç –Ω–µ–¥–µ–ª—é —Å–ª–æ—Ç–æ–≤.

–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞:

python -m bot.main

–û—Ç–∫—Ä–æ–π –±–æ—Ç–∞ –≤ Telegram –∏ –ø—Ä–æ–≤–µ—Ä—å –ø—É—Ç—å: ¬´–ó–∞–ø–∏—Å–∞—Ç—å—Å—è ‚Üí –≤—ã–±—Ä–∞—Ç—å —É—Å–ª—É–≥—É ‚Üí –¥–∞—Ç—É ‚Üí –≤—Ä–µ–º—è ‚Üí —É–∫–∞–∑–∞—Ç—å –º–∞—Ä–∫—É/–º–æ–¥–µ–ª—å¬ª.

üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
service-booking-bot/
‚îú‚îÄ bot/
‚îÇ ‚îú‚îÄ handlers/
‚îÇ ‚îÇ ‚îú‚îÄ start.py # —Å—Ç–∞—Ä—Ç, –º–µ–Ω—é
‚îÇ ‚îÇ ‚îú‚îÄ booking.py # –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞–ø–∏—Å–∏ (–¥–∞—Ç—ã/–≤—Ä–µ–º—è/–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ)
‚îÇ ‚îÇ ‚îî‚îÄ **init**.py # —Å–±–æ—Ä–∫–∞ —Ä–æ—É—Ç–µ—Ä–æ–≤
‚îÇ ‚îú‚îÄ keyboards.py # –∏–Ω–ª–∞–π–Ω/—Ä–µ–ø–ª–∞–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ ‚îú‚îÄ main.py # –≤—Ö–æ–¥–Ω–∞—è —Ç–æ—á–∫–∞ –±–æ—Ç–∞
‚îÇ ‚îî‚îÄ data/
‚îÇ ‚îî‚îÄ booking.db # SQLite –±–∞–∑–∞ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏/—Å–∫—Ä–∏–ø—Ç–æ–º)
‚îú‚îÄ services/
‚îÇ ‚îú‚îÄ repo.py # —Å–ª–æ–π —Ä–∞–±–æ—Ç—ã —Å –ë–î (CRUD), —Å—Ö–µ–º–∞ —Ç–∞–±–ª–∏—Ü
‚îÇ ‚îî‚îÄ slots.py # –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å–ª–æ—Ç–æ–≤ (free/ reserve/ cancel)
‚îú‚îÄ .env # —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
‚îú‚îÄ requirements.txt
‚îî‚îÄ README.md

üß™ –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ë–î (–ø—Ä–æ–≤–µ—Ä–∫–∞)

–ü–æ–∫–∞–∑–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã, –ø–æ—Å–ª–µ–¥–Ω–∏–µ –±—Ä–æ–Ω–∏ –∏ –∑–∞–Ω—è—Ç—ã–µ —Å–ª–æ—Ç—ã:

python - << "PY"
import sqlite3, pathlib
p = pathlib.Path("bot/data/booking.db")
con = sqlite3.connect(p)
c = con.cursor()
print("üì¶ DB:", p.resolve())
print("\nüìö –¢–∞–±–ª–∏—Ü—ã:", [r[0] for r in c.execute("SELECT name FROM sqlite_master WHERE type='table'")])
print("\nüìù –ü–æ—Å–ª–µ–¥–Ω–∏–µ bookings:")
for r in c.execute("SELECT id,user_id,service,brand,model,slot_date,slot_time,created_at FROM bookings ORDER BY id DESC LIMIT 10"):
print(" ", r)
print("\n‚è∞ –ó–∞–Ω—è—Ç—ã–µ —Å–ª–æ—Ç—ã:")
for r in c.execute("SELECT slot_date,slot_time,taken FROM slots WHERE taken=1 ORDER BY slot_date,slot_time LIMIT 20"):
print(" ", r)
con.close()
PY

–ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –±–∞–∑—É –∏ –ø–µ—Ä–µ—Å–µ—è—Ç—å –Ω–µ–¥–µ–ª—é:

python -c "from services.repo import init_db, seed_default_week; init_db(reset=True); seed_default_week(); print('DB recreated & seeded.')"
